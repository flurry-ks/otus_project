# Требования к системе

## Нефункциональные требования

### Производительность
- Отклик системы должен составлять не более 1 мс.
- Система должна выдерживать пиковую нагрузку в 5 000 заказов в сутки.
- Система должна обеспечивать среднюю нагрузку в 2 000 заказов в сутки.
- Система должна обрабатывать 100 заказов одновременно.
- Система должна обеспечивать среднюю скорость приготовления заказа 2 минуты
- Система должна поддерживать работу 14 роботов.
### Безопасность
- Система не должна сохранять персональные данные неавторизованных клиентов.
- Система должна шифровать данные логин и пароль.
- Система должна обеспечивать ограничение ролей и доступов в систему:
  - авторизованный посетитель
  - неавторизованный посетитель
  - технолог
  - менеджер гостеприимства
### Масштабируемость
- Система должна обеспечивать масштабируемость до 10 000 пользователей в сутки с сохранением текущего уровня производительности.
- Система должна поддерживать масштабирование для роботизации 25 действующих ресторанов сети через 3 года и 71 ресторана сети — через 5 лет.
### Совместимость
- Должна быть интеграция с текущей CRM-системой.
- Должна быть интеграция с текущей системой 1C.
- Должна быть интеграция с текущей системой закупок, управления ассортиментом и учета остатков.
- Должна быть интеграция с текущей системой заказов.
- Должна быть интеграция с текущей системой роботов.
- Необходимо использовать текущую интеграцию с платежными системами.
### Доступность
- Система должна быть доступна 99% времени.
- Необходимо обеспечить круглосуточную работу системы.
### Концептуальная целостность
- Мобильное приложение должно быть разработано на Flutter.
- Backend должен быть разработан на Java.
- Тачпойнт для заказа в ресторане должен быть разработан на Java.
- Система должна использовать российскую облачную инфраструктуру.
### Возможность повторного использования
- Система должна быть масштабируема на другие рестораны сети.
### Поддерживаемость
- Система должна логировать действия роботов.

## Функциональные требования

### Диаграмма вариантов использования
[Ссылка на диаграмму вариантов использования на языке PluntUML](/docs/diagrams/usecase.puml)
![Диаграмма вариантов использования](/docs/diagrams/usecase.png)

### Варианты использования

|Вариант использования:||
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||

|Вариант использования:|#Оформить заказ в мобильном приложении|
|-----------------------|---------------------------------------------------------|
|Описание|Посетитель может оформить заказ мобильном приложении.|
|Предусловия|1. Открыт торговый день<br/>2. В ассортименте есть блюда, доступные для заказа|
|Постусловия|1. Заказ поступил в производство<br/>2. Зафиксирована запись об оплате в кассовой системе|
|Основной поток|1. Посетитель открывает мобильное приложение<br/>2. [Переход к сценарию "Просмотреть меню"](#menu)<br/>3. Переход к сценарию "Добавить позицию в корзину"<br/>4. Посетитель инициирует оплату<br/>5. Система отображает полный список заказанного<br/>6. Посетитель указывает, где будет есть: с собой или в зале<br/>7. Система спрашивает, является ли посетитель участником нашей программы лояльности<br/>8. Пользователь авторизуется в программе лояльности<br/>9. Система предлагает начислить или списать бонусы<br/>10. Пользователь выбирает, начислить или списать бонусы<br/>11. Система подсчитывает итоговую сумму с учетом бонусов<br/>12. Переход к сценарию "Оплатить заказ"<br/>13. Система выдает чек<br/>14. Система выдает талон с номером заказа<br/>15. Система осуществляет переход в главное меню|
|Альтернативный поток|7.a. Сумма заказа более 1500 рублей или в заказе есть специальное комбо<br/>1. Система добавляет в заказ подарок<br/>2. Сценарий продолжается с шага 8 основного потока<br/><br/>10.a. Посетитель отказывается авторизоваться в программе лояльности<br/>1. Сценарий продолжается с шага 13 основного потока<br/><br/>13.а. Заказ происходит в будние дни с 10:00 до 16:00 по местному времени<br/>1. Система делает скидку<br/>2. Сценарий продолжается с шага 14 основного потока|
|Исключения|1. Посетитель не делает никаких действий дольше 2 минут<br/>2. Система спрашивает: “вы еще с нами?”|
|Прерывание процесса|1. Система позволяет на каждом шаге вернуться в главное меню, не теряя черновик корзины.<br/>2. Система на любом шаге позволяет завершить процесс.<br/>3. Система отображает предупреждение “вы еще с нами?” дольше 2 минут.<br/>4. Посетитель начал оформлять новый заказ.|

|Вариант использования:|<a name="menu"><a/>Посмотртеть меню|
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||

|Вариант использования:|Посмотреть информацию о позиции меню|
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||

|Вариант использования:|Добавить позицию в корзину|
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||

|Вариант использования:|Изменить содержимое корзины|
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||

|Вариант использования:|Оплатить заказ|
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||

|Вариант использования:|Авторизоваться в программе лояльности|
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||

|Вариант использования:|Зарегистрироваться в программе лояльности|
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||

|Вариант использования:|Посмотреть информацию в личном кабинете|
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||

|Вариант использования:|Получить заказ|
|-----------------------|---------------------------------------------------------|
|Описание||
|Предусловия||
|Постусловия||
|Основной поток||
|Альтернативный поток||
